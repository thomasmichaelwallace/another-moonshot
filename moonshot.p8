pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--another moonshot
--thomas michael wallace

px=0
py=0
mx=1
my=1
d=0

function _init()
 px=32
 py=32
 palt(14,true)
 palt(0,false)
end

function _update()
 local x=px
 local y=py
 if(btnp(0))then
  x-=8
  d=0
 elseif(btnp(1))then
  x+=8
  d=1
 elseif(btnp(2))then
  y-=8
  d=2
 elseif(btnp(3))then
  y+=8
  d=3
 end
 
 local m=mget((mx-1)*16+x/8,(my-1)*16+y/8)
 if(fget(m,1)==true)then
  _init()
 elseif(fget(m,0)~=true)then
  px=x
  py=y
  if(px<0)then
   mx-=1
   px=15*8
  elseif(px>15*8)then
   px=0
   mx+=1
  elseif(py<0)then
   py=15*8
   my-=1
  elseif(py>15*8)then
   py=0
   my+=1
  end
 end
 
 x=px
 y=py
 if(btnp(4))then
  if(d==0)then
   x-=8
  elseif(d==1)then
   x+=8
  elseif(d==2)then
   y-=8
  elseif(d==3)then
   y+=8
  end
  m=mget((mx-1)*16+x/8,(my-1)*16+y/8)
  if(fget(m,2))then
   mset((mx-1)*16+x/8,(my-1)*16+y/8,m+1)
  end
 end
end

function _draw()
 cls()
 map((mx-1)*16,(my-1)*16,0,0,16,16)
 spr(1,px,py)
end
__gfx__
00000000e777777e7eee7eeeeeeeeeeeeeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700000077e7e7e7eeeeeeeeeeeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700707007077e7e7e7e7eee7eeeeee77eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700070000007ee7eee7eee7eee7eee7077ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000e777777e7eee7eeeeeeeeeeeee7777ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700e700007e7e7e7e7eeeeeeeeeeee77eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000e700007e7e7e7e7e7eee7eeeeeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ee7777eeee7eee7eee7eee7eeeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e777777eee7eeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007e707ee7e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70777707ee7ee7070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007eeeeee7e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007e7eeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70777707707ee7ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000007e7ee707e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e777777eeeeee7ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000040000000000000000000000000001020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000001111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000001111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000001111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000000000001010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010001010100000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010000000100000000000000000001010000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010000000100000000000000000001010000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101000000000000000000000001010000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000000000001010000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000000202001010000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000000202001010101010001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000001010101000000000001000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010001010101010101010101010101000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010001010101010101010101000000000000010001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000001000000000001010001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1000000000000000000000001000000000001000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010000000000000000000001010101010101000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000000000000000000000000001010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000000000000101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
